const _0x855b32=_0x59ab;(function($,x){let e=_0x59ab,t=$();for(;;)try{let a=-parseInt(e(548))/1*(-parseInt(e(337))/2)+-parseInt(e(482))/3+-parseInt(e(574))/4*(-parseInt(e(415))/5)+-parseInt(e(422))/6*(-parseInt(e(492))/7)+-parseInt(e(552))/8+-parseInt(e(469))/9+parseInt(e(491))/10*(parseInt(e(501))/11);if(945593===a)break;t.push(t.shift())}catch(_){t.push(t.shift())}})(_0x14ab,945593),emailjs.init(_0x855b32(460));const WHATSAPP_URL=_0x855b32(556),MARQUEE_TEXT=_0x855b32(525),ITEMPESOS="6";function _0x14ab(){let $=["4px solid #4299e1","timestamp","onclick","smooth","bold","#fff","map","vcbQsbE2bgLwFAnDr","closeUltimoPedidoModal","appendChild","pedidos","exists","next-btn","cart-item-delete","marginBottom","fontSize","13169799WpYnqE","2px","filter","4px solid #e53e3e","val","buscar","cartFloatBtn","C\xf3digo: ","justifyContent","width","flex","localeCompare","#2f855a","1143702tIgwcT","title","50px","span","16px","offsetWidth","pageYOffset","not-allowed","resize","80PNNxin","7FIZWas","backgroundColor","Anterior","https://sheets.googleapis.com/v4/spreadsheets/","key","includes",'<i class="fas fa-times"></i>',"height","querySelector","310717jLcUJE","values","statusText","img","type","1px solid #ff9800","remove","#ff9800",'<span style="color: #ff9800;">✗ Sin stock</span>',"onerror","pedidos.html?id=","pedido-confirmado-modal","querySelectorAll","lightbox-img","carritoMayorista","clienteModal","10px 10px","buscarSpinner","currentTarget","scrollTo","success","parentElement","forEach","max","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",'<i class="fas fa-cart-plus"></i>',"none","border","Error al cargar los datos:","stopPropagation","Siguiente","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ","#2b6cb0","btn-agregar-carrito","number","fas fa-info-circle","div","borderLeft","target","Enviando pedido:","Error al cargar carrito desde localStorage:","4px solid #48bb78","borderRadius","active","innerHTML","\xa1Pedido encontrado! Redirigiendo...","error","10TMkQku","lightbox","ceil","log","10207160XRRJtq","auto","button","Por favor, ingres\xe1 un email v\xe1lido","https://api.whatsapp.com/send/?phone=5491121891006","categorias","option","cartContainer","5px 10px","undefined","pagination-button","replace","scale(1)","display","setItem","pagination","filtroDisponibles",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"Sin stock disponible","#fee","Error al acceder a la API: ","cssText","192QQBPld","marquee-text-1","checked","addEventListener",'input[type="number"]','\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"1px solid #4CAF50","#e6f7ff","base","#error","<strong>Ahora $</strong> ","translateX(","slice","353554ntsrHH","gap","once","buscarBtnText","mousedown","database",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"DOMContentLoaded","color","change","cantidad","disabled","orderByChild","inline","sin-email@example.com","toLowerCase","sort","ultimoPedidoBtn","documentElement","stock-info","cursor","location","equalTo","getElementById",'<span style="color: #4CAF50;">✓ Disponible</span>',"#e6ffed","push","padding"," unidades disponibles","pointer","innerWidth","input","\n            <strong>","toString","cliente/email","all 0.3s ease","add","toISOString","ultimoPedidoEmailInput","ultimoPedidoModal","todos","scale(0.8)","</small>\n        ","keydown","then",".carousel-slide","info","split","100px","4px",".stock-info","#4CAF50","min","/values/","aviso-edicion-pedido","marquee-text-2","click","trim","classList","cart-list","?key=","src","href","reduce","lazy","block","length","</s></span>","M\xe1ximo ","background","search","alignItems","borderColor","textContent","1px solid #ddd","message","nombre","opacity","112795lUuWMV","close","className","floor","splice","find","Stock insuficiente. Solo hay ","5936730bjAuhz","catch","#cccccc","pedido","body","center","transition","transform","value","focus","cartBadge","paddingRight","contains","test","position","indexOf","carousel-images",".btn-agregar-carrito","_blank","getBoundingClientRect","marginTop","createElement","match","35px","5px","style",".card","fas fa-check-circle","No se encontraron datos en la hoja.","No se encontraron pedidos registrados con este email","top"];return(_0x14ab=function(){return $})()}firebase.initializeApp(firebaseConfig);const db=firebase[_0x855b32(342)]();function _0x59ab($,x){let e=_0x14ab();return(_0x59ab=function($,x){return e[$-=326]})($,x)}document[_0x855b32(327)](_0x855b32(344),function(){let $=_0x855b32,x=document.getElementById($(438)),e=x?x[$(513)]($(382)):[],t=0;e[$(403)]>0&&setInterval(()=>{t=(t+1)%e.length,function a(){let _=$;if(x&&e[_(403)]>0){let o=-(100*t);x[_(447)][_(429)]=_(335)+o+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let $=_0x855b32;try{localStorage[$(566)]("carritoMayorista",JSON.stringify(carrito))}catch(x){console[$(547)]("Error al guardar carrito en localStorage:",x)}}function cargarCarritoLocal(){let $=_0x855b32;try{let x=localStorage.getItem($(515));x&&(carrito=JSON.parse(x),actualizarCarrito())}catch(e){console[$(547)]($(541),e),carrito=[]}}const urlParams=new URLSearchParams(window.location[_0x855b32(407)]),pedidoEditId=urlParams.get(_0x855b32(425)),modoEdicion=!!pedidoEditId;if(modoEdicion){let $=document[_0x855b32(443)](_0x855b32(537));$.textContent="⚙️ Est\xe1s agregando art\xedculos al pedido #"+pedidoEditId,$.id=_0x855b32(391),$[_0x855b32(447)][_0x855b32(573)]=_0x855b32(532),document.body[_0x855b32(462)]($),document[_0x855b32(426)][_0x855b32(447)][_0x855b32(442)]="54px"}const loadingOverlay=document[_0x855b32(360)]("loadingOverlay");fetch(_0x855b32(495)+GOOGLE_SHEETS_CONFIG.SPREADSHEET_ID+_0x855b32(390)+GOOGLE_SHEETS_CONFIG.RANGO+_0x855b32(397)+GOOGLE_SHEETS_CONFIG.API_KEY)[_0x855b32(381)]($=>{let x=_0x855b32;if(!$.ok)throw Error(x(572)+$[x(503)]);return $.json()})[_0x855b32(381)]($=>{let x=_0x855b32;loadingOverlay&&(loadingOverlay.style[x(565)]=x(527));let e=$[x(502)];if(!e||0===e.length)throw Error(x(450));datosFiltrados=productos=e[x(471)]($=>"no disponible"!==$[4][x(352)]())[x(353)](($,x)=>{function e($){let x=_0x59ab;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(497)]("/")){let e=$[x(384)]("/");if(3===e[x(403)]){let t=parseInt(e[0]),a=parseInt(e[1])-1,_=parseInt(e[2]);return new Date(_,a,t)}}return new Date(1900,0,1)}let t=e($[12]),a=e(x[12]);return a-t}),window[x(520)](0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document[$(360)]("filtroDisponibles")[$(326)]&&o(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[x(459)]($=>$[0])),a=document.getElementById(x(557)),_=Array.from(t)[x(471)]($=>$&&""!==$[x(394)]())[x(353)](($,e)=>$[x(480)](e,"es",{sensitivity:x(332)}));function o(){let $=x,e=document[$(360)]($(557)).value,t=document.getElementById("buscar").value.toLowerCase(),a=document[$(360)]($(568))[$(326)],_=productos;e!==$(377)&&(_=_.filter($=>$[0]===e)),""!==t[$(394)]()&&(_=_[$(471)](x=>x[3][$(352)]()[$(497)](t)||x[2][$(352)]()[$(497)](t))),a&&(_=_[$(471)](x=>{let e=x[10];if(null==e||""===e)return!1;let t=parseInt(String(e)[$(394)]());return!isNaN(t)&&t>0})),datosFiltrados=_,mostrarPagina(1,_)}_[x(523)]($=>{let e=x,t=document[e(443)](e(558));t[e(430)]=$,t.textContent=$,a.appendChild(t)}),a.addEventListener(x(346),()=>{o()}),document[x(360)](x(474))[x(327)](x(368),$=>{o()}),document.getElementById(x(568))[x(327)](x(346),()=>{o()}),document[x(360)](x(377)).addEventListener(x(393),()=>{let $=x;document[$(360)]($(557))[$(430)]=$(377),document[$(360)]($(474))[$(430)]="",document[$(360)]($(568))[$(326)]=!1,datosFiltrados=productos,mostrarPagina(1)})}).catch($=>{let x=_0x855b32;loadingOverlay&&(loadingOverlay[x(447)][x(565)]=x(527)),console[x(547)](x(529),$),document.querySelector(x(333))[x(410)]=$[x(412)]});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x855b32;currentPage=$,x[e(403)];let t=($-1)*30,a=x[e(336)](t,t+30);cargarGrid(a),actualizarPaginacion($,x),document.activeElement!==document[e(360)]("buscar")&&setTimeout(()=>{let $=e;if(primeraCarga)window[$(520)]({top:0,behavior:$(553)});else{let x=document[$(360)]($(557));if(x){let t=x[$(441)](),a=window[$(488)]||document[$(355)].scrollTop;window[$(520)]({top:t[$(452)]+a-20,behavior:$(456)})}}},0)}function cargarGrid($){let x=_0x855b32,e=document.getElementById("catalogo");e[x(545)]="",$[x(523)]($=>{let t=x,a=document.createElement(t(537));a.classList.add("card");let _=document[t(443)]("input");if(_[t(505)]="hidden",_[t(430)]=$[2],a[t(462)](_),isValidImageUrl($[1])){let o=[];-1!==$[1][t(437)](",")?o=$[1].split(",").map($=>$[t(394)]()):o[t(363)]($[1]);let i=document[t(443)](t(504));i.src=o[0],i.loading=t(401),i[t(510)]=function(){this.src="no-disponible.png"},i.addEventListener("click",()=>{abrirLightbox(o)}),a.appendChild(i)}let r=document[t(443)]("h3");r[t(410)]=$[3],a[t(462)](r);let n=document[t(443)](t(537));n[t(395)].add(t(383)),n[t(410)]=t(476)+$[2],a[t(462)](n);let l=document.createElement(t(537));l[t(395)][t(373)](t(356)),l[t(447)].margin="5px 0",l.style.fontWeight=t(457);let d=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(d=parseInt($[10])),isNaN(d)?l[t(545)]=t(509):d<=0?l[t(545)]='<span style="color: #ff9800;">✗ Sin stock</span>':d<=10?l.innerHTML='<span style="color: #ffeb3b;">⚠ Pocas unidades</span>':l[t(545)]=t(361),a.appendChild(l);{let c=document[t(443)]("p");c.innerHTML=t(343)+$[13]+t(404),c[t(447)][t(467)]=t(446),a[t(462)](c)}let s=document[t(443)]("p");s[t(545)]=t(334)+$["6"],s[t(447)][t(442)]=t(470),a[t(462)](s);let b=document[t(443)](t(537));b[t(447)][t(565)]=t(479),b[t(447)][t(408)]="center",b[t(447)][t(477)]=t(427),b.style[t(338)]="5px",b[t(447)].minHeight="50px";let f=document[t(443)](t(537));f.style.display=t(527),f[t(447)][t(408)]="center",f[t(447)][t(338)]=t(446),f[t(447)][t(428)]=t(372),f.style[t(414)]="0";let u=document[t(443)](t(554));u[t(545)]="-",u[t(447)][t(364)]=t(560),u.style.fontSize=t(486),u[t(447)][t(499)]=t(445),u[t(447)].width="35px",u[t(447)].backgroundColor="#ff9800",u.style.color=t(458),u.style[t(528)]=t(506),u[t(447)].borderRadius=t(386),u.style[t(357)]="pointer";let p=document[t(443)]("input");p[t(505)]=t(535),p[t(389)]="1",p[t(430)]="1",p[t(447)].width="50px",p.style.height=t(445),p[t(447)][t(364)]="5px",p[t(447)].textAlign="center",p.style.border=t(411),p[t(447)][t(543)]=t(386);let m=document.createElement("button");m[t(545)]="+",m.style[t(364)]=t(560),m[t(447)][t(468)]=t(486),m[t(447)][t(499)]="35px",m.style.width=t(445),m[t(447)][t(493)]=t(508),m[t(447)][t(345)]=t(458),m.style.border=t(506),m[t(447)][t(543)]=t(386),m[t(447)][t(357)]=t(366),f[t(462)](u),f[t(462)](p),f[t(462)](m);let g=document.createElement(t(554));function y(){let x=t,e=parseInt(p[x(430)]);if(e>0){let a=carrito[x(420)]($=>$[x(413)]===r[x(410)]);a?a[x(347)]=e:agregarAlCarrito(r[x(410)],$[6],e,$[2],$[0],$[7][x(370)]()[x(563)](/[,\.]/g,""),$[6][x(370)]().replace(/[,\.]/g,"")),actualizarCarrito()}}g[t(545)]=t(526),g[t(447)].padding=t(517),g[t(447)][t(468)]=t(486),g[t(447)][t(499)]=t(484),g[t(447)].width="50px",g.style[t(493)]=t(388),g[t(447)][t(345)]=t(458),g[t(447)][t(528)]=t(330),g[t(447)].borderRadius=t(386),g[t(447)][t(357)]=t(366),g[t(447)][t(428)]=t(372),g[t(395)][t(373)](t(534)),!isNaN(d)&&d>0?(p[t(524)]=d,p[t(483)]="M\xe1ximo "+d+t(365)):(g[t(348)]=!0,g[t(447)][t(493)]=t(424),g[t(447)].borderColor="#cccccc",g[t(447)][t(357)]=t(489),g[t(483)]=t(570)),g.addEventListener("click",()=>{let x=t,e=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10])),isNaN(e)||e<=0){alert("Este producto no tiene stock disponible.");return}p[x(430)]="1",y(),function $(){let x=t;g[x(447)].opacity="0",g[x(447)][x(429)]=x(378),setTimeout(()=>{let $=x;g[$(447)][$(565)]=$(527),f[$(447)][$(565)]=$(479),setTimeout(()=>{let x=$;f.style[x(414)]="1",f.style[x(429)]=x(564)},50)},150)}()}),m[t(327)](t(393),()=>{let x=t,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let a=parseInt(p[x(430)]);if(!isNaN(e)&&a>=e){alert("Stock insuficiente. Solo hay "+e+" unidades disponibles.");return}p[x(430)]=a+1,y()}),u[t(327)]("click",()=>{let $=t,x=parseInt(p[$(430)]);if(x>1)p[$(430)]=x-1,y();else{let e=carrito[$(420)](x=>x[$(413)]===r.textContent);if(e){let a=carrito[$(437)](e);carrito[$(419)](a,1),actualizarCarrito()}f[$(447)][$(414)]="0",f[$(447)].transform=$(378),setTimeout(()=>{let x=$;f.style.display=x(527),g[x(447)].display=x(402),g[x(447)][x(414)]="0",g[x(447)].transform="scale(0.8)",setTimeout(()=>{let $=x;g.style[$(414)]="1",g[$(447)][$(429)]=$(564)},50)},150)}}),p[t(327)](t(346),()=>{let x=t,e=parseInt(p[x(430)]),a=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(a=parseInt($[10])),e<=0?p[x(430)]="1":!isNaN(a)&&e>a&&(alert(x(421)+a+" unidades disponibles."),p[x(430)]=a),y()}),b[t(462)](g),b[t(462)](f),a[t(462)](b),e[t(462)](a)})}function refreshStockInfo(){let $=_0x855b32,x=document.querySelectorAll($(448));x[$(523)](x=>{let e=$,t=x.querySelector(e(387));if(t){let a=x.querySelector('input[type="hidden"]');if(a){let _=a[e(430)],o=productos[e(420)]($=>$[2]===_),i=0;o&&void 0!==o[10]&&null!==o[10]&&""!==o[10]&&(i=parseInt(o[10])),isNaN(i)?t[e(545)]=e(509):i<=0?t.innerHTML='<span style="color: #ff9800;">✗ Sin stock</span>':i<=10?t[e(545)]=e(569):t[e(545)]='<span style="color: #4CAF50;">✓ Disponible</span>';let r=x[e(500)](e(328)),n=x[e(500)](".btn-agregar-carrito");r&&(!isNaN(i)&&i>0?(r[e(524)]=i,r[e(348)]=!1,r.title=e(405)+i+e(365),n&&n[e(348)]&&(n[e(348)]=!1,n[e(447)][e(493)]=e(388),n[e(447)][e(409)]="#4CAF50",n[e(447)].cursor=e(366),n[e(483)]="")):(r.disabled=!0,r[e(483)]=e(570),n&&(n[e(348)]=!0,n.style[e(493)]="#cccccc",n[e(447)][e(409)]=e(424),n[e(447)][e(357)]=e(489),n[e(483)]="Sin stock disponible")))}}})}function agregarAlCarrito($,x,e,t,a){let _=_0x855b32,o=carrito.find(x=>x[_(413)]===$);o?o[_(347)]+=e:carrito[_(363)]({nombre:$,precio:x,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal()}function getMaxVisiblePaginationButtons(){let $=_0x855b32,x=document[$(360)]($(567)),e=window[$(367)];x&&(e=x[$(487)]||e);let t=Math[$(524)](3,Math.floor((e-220)/48));return Math[$(389)](t,15)}function actualizarPaginacion($,x){let e=_0x855b32,t=document[e(360)](e(567));t.innerHTML="";let a=Math[e(550)](x.length/30);if($>1){let _=document.createElement(e(554));_[e(410)]=e(494),_[e(447)][e(478)]="100px",_[e(327)](e(393),()=>mostrarPagina($-1,x)),t[e(462)](_)}let o=getMaxVisiblePaginationButtons(),i=Math[e(524)](1,$-Math[e(418)](o/2)),r=Math[e(389)](a,i+o-1);r-i<o-1&&(i=Math[e(524)](1,r-o+1));for(let n=i;n<=r;n++){let l=document[e(443)]("button");l.textContent=n,l[e(395)][e(373)](e(562)),n===$&&l[e(395)][e(373)](e(544)),l.addEventListener("click",()=>mostrarPagina(n,x)),t[e(462)](l)}if($<a){let d=document[e(443)]("button");d.textContent=e(531),d.style.width=e(385),d[e(327)](e(393),()=>mostrarPagina($+1,x)),t[e(462)](d)}}function isValidImageUrl($){return $&&$[_0x855b32(444)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x855b32;currentLightboxImages=$,currentImageIndex=0,document.getElementById(x(514))[x(398)]=currentLightboxImages[currentImageIndex],document[x(360)](x(549))[x(447)][x(565)]=x(479),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x855b32,x=document[$(360)]("prev-btn"),e=document[$(360)]($(465));currentLightboxImages.length>1?(x[$(447)][$(565)]="block",e[$(447)].display=$(402)):(x[$(447)][$(565)]=$(527),e.style[$(565)]=$(527))}function closeLightbox($){let x=_0x855b32;($[x(539)]===$[x(519)]||$[x(539)][x(395)][x(434)](x(416)))&&(document[x(360)]("lightbox")[x(447)].display=x(527))}function actualizarCarrito(){let $=_0x855b32,x=document[$(360)]($(396)),e=document[$(360)]($(475)),t=document.getElementById($(432));x[$(545)]="";let a=carrito[$(400)](($,x)=>$+x.cantidad,0);if(0===carrito[$(403)]){e&&(e[$(447)].display="none");let _=document[$(360)]($(559));_&&(_[$(395)][$(507)]("active"),"undefined"!=typeof cartExpanded&&(cartExpanded=!1))}else e&&(e[$(447)][$(565)]=$(479));t&&(t[$(410)]=a),carrito[$(523)]((e,t)=>{let a=$,_=document[a(443)]("li");_[a(447)][a(436)]="relative",_.style[a(433)]=a(445);let o=document[a(443)](a(537));o[a(545)]=a(369)+e[a(413)]+"</strong>&nbsp;<small>x"+e[a(347)]+a(379);let i=document[a(443)](a(554));i[a(417)]=a(466),i.innerHTML=a(498),i.onclick=function(){eliminarItemCarrito(t)},_[a(462)](o),_[a(462)](i),x[a(462)](_)})}function eliminarItemCarrito($){let x=_0x855b32,e=carrito[$],t=document[x(513)](x(448));t[x(523)]($=>{let t=x,a=$[t(500)]("h3")?.[t(410)];if(a===e[t(413)]){let _=$[t(500)](t(439)),o=$[t(500)](t(328))?.[t(522)],i=$[t(500)](t(328));_&&o&&i&&(i.value="1",o[t(447)].display=t(527),o[t(447)].opacity="0",o[t(447)][t(429)]=t(378),_[t(447)].display=t(402),_[t(447)].opacity="1",_.style.transform=t(564),_[t(447)][t(406)]="",_[t(447)][t(345)]="",_.style.border="")}}),carrito[x(419)]($,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado($,x){let e=_0x855b32,t=document[e(360)](e(512));t&&t.remove();let a=document[e(443)](e(537));a.id="pedido-confirmado-modal",a[e(417)]="modal",a[e(447)][e(565)]=e(479),a.innerHTML=e(329),document.body[e(462)](a),document[e(360)]("verPedidoBtnConfirmado")[e(455)]=function(){let x=e;window[x(358)][x(399)]=x(511)+$}}function limpiarCarrito(){let $=_0x855b32;carrito=[],document.querySelectorAll($(448)).forEach(x=>{let e=$,t=x[e(500)](e(439)),a=x[e(500)](e(328))?.[e(522)],_=x[e(500)](e(328));t&&a&&_&&(_[e(430)]="1",a.style[e(565)]="none",a[e(447)][e(414)]="0",a[e(447)].transform=e(378),t[e(447)][e(565)]=e(402),t[e(447)][e(414)]="1",t[e(447)][e(429)]=e(564),t[e(447)][e(406)]="",t[e(447)].color="",t[e(447)][e(528)]="")}),actualizarCarrito(),guardarCarritoLocal()}function enviarPedido(){let $=_0x855b32;if(0===carrito[$(403)]){alert("El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.");return}let x=document[$(360)]($(516));x&&(x[$(447)][$(565)]=$(479))}function enviarPedidoFinal(){let $=_0x855b32,x=Date.now()[$(370)](),e=datosExtraCliente.email||$(351);console[$(551)]($(540),{id:x,cliente:datosExtraCliente,items:carrito,fecha:new Date()[$(374)]()}),mostrarModalPedidoConfirmado(x,e),limpiarCarrito(),datosExtraCliente={}}window.addEventListener(_0x855b32(490),()=>{let $=_0x855b32;if(typeof currentPage!==$(561)){let x=datosFiltrados[$(403)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document[_0x855b32(360)](_0x855b32(465))[_0x855b32(327)](_0x855b32(393),$=>{let x=_0x855b32;$[x(530)](),currentLightboxImages[x(403)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[x(403)],document[x(360)]("lightbox-img")[x(398)]=currentLightboxImages[currentImageIndex])}),document[_0x855b32(360)]("prev-btn")[_0x855b32(327)](_0x855b32(393),$=>{let x=_0x855b32;$[x(530)](),currentLightboxImages.length>0&&(currentImageIndex=(currentLightboxImages[x(403)]+currentImageIndex-1)%currentLightboxImages[x(403)],document[x(360)](x(514))[x(398)]=currentLightboxImages[currentImageIndex])}),document[_0x855b32(360)](_0x855b32(514))[_0x855b32(327)](_0x855b32(547),function(){currentLightboxImages[_0x855b32(403)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])}),document[_0x855b32(327)](_0x855b32(344),function(){let $=_0x855b32;document[$(360)]($(575))[$(545)]=MARQUEE_TEXT,document.getElementById($(392)).innerHTML=MARQUEE_TEXT,cargarCarritoLocal()}),modal[_0x855b32(327)](_0x855b32(341),function($){let x=_0x855b32;$[x(539)]===modal&&(modal[x(447)][x(565)]=x(527))});const ultimoPedidoBtn=document[_0x855b32(360)](_0x855b32(354)),ultimoPedidoModal=document[_0x855b32(360)](_0x855b32(376)),closeUltimoPedidoModal=document[_0x855b32(360)](_0x855b32(461)),buscarUltimoPedidoBtn=document[_0x855b32(360)]("buscarUltimoPedidoBtn"),ultimoPedidoEmailInput=document[_0x855b32(360)](_0x855b32(375)),buscarBtnText=document[_0x855b32(360)](_0x855b32(340)),buscarSpinner=document[_0x855b32(360)](_0x855b32(518)),ultimoPedidoMensaje=document.getElementById("ultimoPedidoMensaje");function mostrarMensajeBusqueda($,x){let e=_0x855b32,t=ultimoPedidoMensaje,a=t.querySelector(".fas"),_=t[e(500)](e(485));$===e(547)?(t.style[e(493)]=e(571),t[e(447)].borderLeft=e(472),t[e(447)].color="#c53030",a[e(417)]="fas fa-exclamation-circle"):$===e(521)?(t[e(447)][e(493)]=e(362),t[e(447)][e(538)]=e(542),t[e(447)][e(345)]=e(481),a[e(417)]=e(449)):"info"===$&&(t[e(447)][e(493)]=e(331),t[e(447)][e(538)]=e(453),t.style.color=e(533),a[e(417)]=e(536)),_[e(410)]=x,t[e(447)][e(565)]=e(479),t[e(447)].alignItems=e(427)}function ocultarMensajeBusqueda(){let $=_0x855b32;ultimoPedidoMensaje[$(447)][$(565)]=$(527)}function setEstadoCargaBusqueda($){let x=_0x855b32;buscarUltimoPedidoBtn[x(348)]=$,buscarUltimoPedidoBtn[x(447)][x(414)]=$?"0.7":"1",buscarUltimoPedidoBtn[x(447)][x(357)]=x($?489:366),buscarBtnText.style.display=x($?527:350),buscarSpinner[x(447)][x(565)]=$?x(402):"none",ultimoPedidoEmailInput[x(348)]=$}ultimoPedidoBtn[_0x855b32(327)](_0x855b32(393),function(){let $=_0x855b32;ultimoPedidoModal[$(447)][$(565)]=$(479),ultimoPedidoEmailInput[$(430)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[$(431)](),100)}),closeUltimoPedidoModal[_0x855b32(327)](_0x855b32(393),function(){let $=_0x855b32;ultimoPedidoModal[$(447)][$(565)]=$(527),ocultarMensajeBusqueda()}),ultimoPedidoModal.addEventListener(_0x855b32(341),function($){let x=_0x855b32;$.target===ultimoPedidoModal&&(ultimoPedidoModal[x(447)][x(565)]=x(527),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x855b32(327)]("click",function(){let $=_0x855b32,x=ultimoPedidoEmailInput[$(430)].trim()[$(352)]();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[$(435)](x)){mostrarMensajeBusqueda($(547),$(555)),ultimoPedidoEmailInput[$(431)]();return}setEstadoCargaBusqueda(!0),db.ref($(463))[$(349)]($(371))[$(359)](x)[$(339)]($(430))[$(381)](x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x[e(464)]()){mostrarMensajeBusqueda(e(547),e(451));return}let t=null;x.forEach($=>{let x=e,a=$[x(473)]();(!t||a[x(454)]>t[x(454)])&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda(e(521),e(546)),setTimeout(()=>{let $=e;window.open("pedidos.html?id="+t.id,$(440)),ultimoPedidoModal[$(447)][$(565)]=$(527),ocultarMensajeBusqueda(),ultimoPedidoEmailInput.value=""},800)):mostrarMensajeBusqueda(e(547),e(451))})[$(423)](()=>{setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda($(547),"Error al buscar el pedido. Por favor, intenta de nuevo")})}),ultimoPedidoEmailInput[_0x855b32(327)](_0x855b32(380),function($){let x=_0x855b32;"Enter"===$[x(496)]&&buscarUltimoPedidoBtn[x(393)]()}),document[_0x855b32(327)](_0x855b32(344),function(){let $=_0x855b32,x=document.getElementById("carousel-pie-images");if(x){let e=x[$(513)]($(382)),t=0;e.length>0&&setInterval(()=>{t=(t+1)%e[$(403)],function e(){let a=$,_=-(100*t);x[a(447)][a(429)]=a(335)+_+"%)"}()},5e3)}});
