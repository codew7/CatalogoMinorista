const _0x25b592=_0x3e44;(function($,x){let e=_0x3e44,t=$();for(;;)try{let a=parseInt(e(512))/1+parseInt(e(375))/2*(parseInt(e(597))/3)+-parseInt(e(517))/4+parseInt(e(623))/5+-parseInt(e(586))/6*(-parseInt(e(497))/7)+parseInt(e(364))/8*(-parseInt(e(622))/9)+parseInt(e(582))/10*(-parseInt(e(492))/11);if(674261===a)break;t.push(t.shift())}catch(i){t.push(t.shift())}})(_0x35a9,674261),emailjs.init(_0x25b592(493));const WHATSAPP_URL=_0x25b592(629),MARQUEE_TEXT=_0x25b592(537),ITEMPESOS="6";firebase[_0x25b592(465)](firebaseConfig);const db=firebase[_0x25b592(610)](),carouselImages=document[_0x25b592(593)](_0x25b592(607)),slides=document[_0x25b592(532)](_0x25b592(426));let currentIndex=0;function updateCarousel(){let $=_0x25b592,x=-(100*currentIndex);carouselImages[$(515)].transform=$(615)+x+"%)"}function _0x3e44($,x){let e=_0x35a9();return(_0x3e44=function($,x){return e[$-=356]})($,x)}setInterval(()=>{let $=_0x25b592;currentIndex=(currentIndex+1)%slides[$(613)],updateCarousel()},5e3);const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0;const urlParams=new URLSearchParams(window[_0x25b592(590)][_0x25b592(604)]),pedidoEditId=urlParams[_0x25b592(625)](_0x25b592(461)),modoEdicion=!!pedidoEditId;if(modoEdicion){let $=document.createElement(_0x25b592(447));$.textContent=_0x25b592(621)+pedidoEditId,$.id=_0x25b592(632),$[_0x25b592(515)].cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ",document[_0x25b592(451)].appendChild($),document.body[_0x25b592(515)][_0x25b592(429)]=_0x25b592(627)}const loadingOverlay=document[_0x25b592(593)]("loadingOverlay");fetch(_0x25b592(491)+GOOGLE_SHEETS_CONFIG[_0x25b592(390)]+"/values/"+GOOGLE_SHEETS_CONFIG[_0x25b592(387)]+_0x25b592(609)+GOOGLE_SHEETS_CONFIG.API_KEY)[_0x25b592(432)]($=>{let x=_0x25b592;if(!$.ok)throw Error(x(431)+$.statusText);return $[x(545)]()})[_0x25b592(432)]($=>{let x=_0x25b592;loadingOverlay&&(loadingOverlay[x(515)][x(381)]=x(557));let e=$[x(528)];if(!e||0===e[x(613)])throw Error("No se encontraron datos en la hoja.");datosFiltrados=productos=e[x(486)]($=>$[4][x(392)]()!==x(485))[x(577)](($,x)=>{function e($){let x=_0x3e44;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(595)]("/")){let e=$[x(576)]("/");if(3===e[x(613)]){let t=parseInt(e[0]),a=parseInt(e[1])-1,i=parseInt(e[2]);return new Date(i,a,t)}}return new Date(1900,0,1)}let t=e($[12]),a=e(x[12]);return a-t}),window[x(453)](0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document[$(593)]("filtroDisponibles")[$(534)]&&o(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[x(402)]($=>$[0])),a=document[x(593)](x(459)),i=Array[x(482)](t).filter($=>$&&""!==$[x(594)]())[x(577)](($,e)=>$[x(408)](e,"es",{sensitivity:x(518)}));function o(){let $=x,e=document[$(593)]($(459))[$(566)],t=document.getElementById($(383))[$(566)].toLowerCase(),a=document.getElementById($(611))[$(534)],i=productos;"todos"!==e&&(i=i[$(486)]($=>$[0]===e)),""!==t[$(594)]()&&(i=i[$(486)](x=>x[3][$(392)]().includes(t)||x[2][$(392)]()[$(595)](t))),a&&(i=i.filter($=>{let x=$[10];if(null==x||""===x)return!1;let e=parseInt(String(x).trim());return!isNaN(e)&&e>0})),datosFiltrados=i,mostrarPagina(1,i)}i[x(553)]($=>{let e=x,t=document.createElement("option");t[e(566)]=$,t[e(567)]=$,a[e(624)](t)}),a[x(508)](x(405),()=>{o()}),document[x(593)](x(383))[x(508)]("input",$=>{o()}),document[x(593)](x(611))[x(508)](x(405),()=>{o()}),document[x(593)](x(521))[x(508)](x(509),()=>{let $=x;document[$(593)]($(459))[$(566)]=$(521),document.getElementById($(383)).value="",document.getElementById($(611))[$(534)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x25b592(541)]($=>{let x=_0x25b592;loadingOverlay&&(loadingOverlay.style[x(381)]="none"),console[x(428)]("Error al cargar los datos:",$),document.querySelector("#error")[x(567)]=$[x(399)]});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x25b592;currentPage=$,x[e(613)];let t=($-1)*30,a=x.slice(t,t+30);cargarGrid(a),actualizarPaginacion($,x),document.activeElement!==document[e(593)](e(383))&&setTimeout(()=>{let $=e;if(primeraCarga)window.scrollTo({top:0,behavior:$(416)});else{let x=document.getElementById($(459));if(x){let t=x[$(480)](),a=window[$(616)]||document[$(474)][$(605)];window[$(453)]({top:t[$(501)]+a-20,behavior:$(588)})}}},0)}function cargarGrid($){let x=_0x25b592,e=document[x(593)]("catalogo");e[x(504)]="",$[x(553)]($=>{let t=x,a=document[t(437)](t(447));a[t(573)].add("card");let i=document[t(437)](t(365));if(i[t(410)]="hidden",i[t(566)]=$[2],a[t(624)](i),isValidImageUrl($[1])){let o=[];-1!==$[1].indexOf(",")?o=$[1][t(576)](",")[t(402)]($=>$[t(594)]()):o[t(362)]($[1]);let n=document[t(437)](t(514));n[t(371)]=o[0],n[t(564)]=t(404),n.onerror=function(){let $=t;this[$(371)]=$(479)},n.addEventListener(t(509),()=>{abrirLightbox(o)}),a[t(624)](n)}let d=document.createElement("h3");d[t(567)]=$[3],a[t(624)](d);let r=document.createElement("div");r[t(573)][t(510)]("info"),r[t(567)]="C\xf3digo: "+$[2],a[t(624)](r);let l=document[t(437)](t(447));l[t(573)][t(510)]("stock-info"),l[t(515)][t(583)]=t(559),l.style.fontWeight=t(519);let _=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(_=parseInt($[10])),isNaN(_)?l[t(504)]='<span style="color: #ff9800;">✗ Sin stock</span>':_<=0?l.innerHTML=t(394):_<=10?l[t(504)]=t(502):l[t(504)]='<span style="color: #4CAF50;">✓ Disponible</span>',a[t(624)](l);{let c=document[t(437)]("p");c[t(504)]=t(527)+$[13]+t(379),c[t(515)][t(425)]=t(560),a[t(624)](c)}let s=document.createElement("p");s[t(504)]="<strong>Ahora $</strong> "+$["6"],s[t(515)].marginTop="2px",a[t(624)](s);let u=document[t(437)](t(447));u[t(515)][t(381)]=t(361),u[t(515)][t(384)]=t(520),u.style[t(434)]=t(520),u[t(515)][t(435)]=t(560),u[t(515)][t(631)]=t(526);let b=document[t(437)](t(447));b[t(515)][t(381)]=t(557),b[t(515)][t(384)]="center",b[t(515)][t(435)]="5px",b[t(515)].transition="all 0.3s ease",b[t(515)][t(468)]="0";let f=document[t(437)](t(417));f[t(504)]="-",f.style[t(457)]=t(550),f[t(515)].fontSize="16px",f[t(515)].height=t(400),f.style[t(530)]=t(400),f[t(515)][t(477)]="#ff9800",f.style[t(397)]="#fff",f.style[t(581)]=t(572),f[t(515)][t(505)]=t(626),f[t(515)][t(606)]=t(427);let p=document[t(437)]("input");p[t(410)]="number",p.min="1",p[t(566)]="1",p[t(515)][t(530)]=t(526),p[t(515)][t(584)]=t(400),p.style[t(457)]=t(560),p[t(515)][t(481)]="center",p.style.border=t(443),p[t(515)][t(505)]=t(626);let m=document[t(437)]("button");m[t(504)]="+",m[t(515)][t(457)]="5px 10px",m[t(515)][t(388)]=t(448),m[t(515)][t(584)]=t(400),m[t(515)][t(530)]=t(400),m[t(515)][t(477)]="#ff9800",m[t(515)][t(397)]=t(439),m[t(515)].border=t(572),m[t(515)][t(505)]=t(626),m[t(515)][t(606)]=t(427),b[t(624)](f),b[t(624)](p),b[t(624)](m);let g=document[t(437)](t(417));function I(){let x=t,e=parseInt(p.value);if(e>0){let a=carrito[x(554)]($=>$[x(393)]===d[x(567)]);a?a[x(422)]=e:agregarAlCarrito(d[x(567)],$[6],e,$[2],$[0],$[7][x(523)]()[x(433)](/[,\.]/g,""),$[6].toString()[x(433)](/[,\.]/g,"")),actualizarCarrito()}}g[t(504)]=t(568),g[t(515)][t(457)]=t(549),g[t(515)][t(388)]=t(448),g[t(515)][t(584)]=t(526),g[t(515)][t(530)]=t(526),g[t(515)][t(477)]=t(603),g[t(515)].color=t(439),g.style[t(581)]=t(635),g.style[t(505)]=t(626),g[t(515)][t(606)]="pointer",g[t(515)].transition=t(363),g[t(573)].add(t(637)),!isNaN(_)&&_>0?(p.max=_,p[t(552)]=t(580)+_+t(562)):(g[t(356)]=!0,g[t(515)][t(477)]=t(565),g[t(515)][t(478)]="#cccccc",g[t(515)][t(606)]=t(494),g[t(552)]=t(634)),g[t(508)](t(509),()=>{let x=t,e=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10])),isNaN(e)||e<=0){alert(x(585));return}p[x(566)]="1",I(),function $(){let x=t;g[x(515)][x(468)]="0",g[x(515)][x(630)]="scale(0.8)",setTimeout(()=>{let $=x;g[$(515)][$(381)]=$(557),b[$(515)].display=$(361),setTimeout(()=>{let x=$;b[x(515)][x(468)]="1",b[x(515)][x(630)]="scale(1)"},50)},150)}()}),m.addEventListener(t(509),()=>{let x=t,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let a=parseInt(p[x(566)]);if(!isNaN(e)&&a>=e){alert(x(455)+e+" unidades disponibles.");return}p.value=a+1,I()}),f[t(508)](t(509),()=>{let $=t,x=parseInt(p[$(566)]);if(x>1)p[$(566)]=x-1,I();else{let e=carrito[$(554)](x=>x.nombre===d[$(567)]);if(e){let a=carrito.indexOf(e);carrito[$(569)](a,1),actualizarCarrito()}b[$(515)][$(468)]="0",b[$(515)][$(630)]=$(413),setTimeout(()=>{let x=$;b[x(515)][x(381)]=x(557),g.style[x(381)]="block",g[x(515)][x(468)]="0",g.style.transform=x(413),setTimeout(()=>{let $=x;g[$(515)][$(468)]="1",g[$(515)][$(630)]=$(373)},50)},150)}}),p.addEventListener("change",()=>{let x=t,e=parseInt(p[x(566)]),a=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(a=parseInt($[10])),e<=0?p[x(566)]="1":!isNaN(a)&&e>a&&(alert(x(455)+a+x(484)),p[x(566)]=a),I()}),u.appendChild(g),u[t(624)](b),a[t(624)](u),e[t(624)](a)})}function _0x35a9(){let $=["\xa1Pedido encontrado! Redirigiendo...","querySelectorAll","verPedidoBtn","checked","status","emailInput","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS","ultimoPedidoEmailInput","href","flexDirection","catch","buscarBtnText","className","telefono","json","close","mayorista","#e6f7ff","10px 10px","5px 10px","remove","title","forEach","find","orderByChild","now","none","innerWidth","5px 0","5px","Email del cliente no v\xe1lido o vac\xedo."," unidades disponibles","querySelector","loading","#cccccc","value","textContent",'<i class="fas fa-cart-plus"></i>',"splice","onclick","offsetWidth","1px solid #ff9800","classList","dniNuevoInput","equalTo","split","sort","once","items","M\xe1ximo ","border","60tFohXO","margin","height","Este producto no tiene stock disponible.","78zRiSVl","emailClienteInput","smooth","#2f855a","location","https://www.home-point.com.ar/pedidos.html?id=","template_xqo1j5z","getElementById","trim","includes","precio","4611DuuhBL",".cart-container","prev-btn","fas fa-exclamation-circle","key","stopPropagation","#4CAF50","search","scrollTop","cursor","carousel-images","limitToFirst","?key=","database","filtroDisponibles","contains","length","open","translateX(","pageYOffset","tipoCliente",'input[type="hidden"]',"El carrito est\xe1 vac\xedo.","Anterior","⚙️ Est\xe1s agregando art\xedculos al pedido #","1402542eJzXVf","1086400GNJQdX","appendChild","get","4px","54px","localidad","https://api.whatsapp.com/send/?phone=5491121891006","transform","minHeight","aviso-edicion-pedido",".btn-agregar-carrito","Sin stock disponible","1px solid #4CAF50","info","btn-agregar-carrito","cliente","ultimoPedidoModal","fixed","disabled","clientes","DOMContentLoaded","lightbox","cart-list","flex","push","all 0.3s ease","8uNWZhw","input","_blank","ultimoPedidoMensaje","buscarSpinner",'\n    <div style="background: #fff; padding: 30px 40px; border-radius: 12px; text-align: center; max-width: 90vw;">\n      <h2 style=\'color:#d32f2f;\'>\xa1Ya tienes un pedido abierto en proceso! \uD83D\uDED2</h2>\n      <p>Si quieres hacer cambios, puedes modificarlo o cancelarlo para crear uno completamente nuevo.</p>\n      <button id="verPedidoBtn" style="background:#4CAF50;color:#fff;padding:10px 30px;border:none;border-radius:6px;font-size:1.1em;cursor:pointer;">Ver Pedido</button>\n    </div>\n  ',"send","src",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"scale(1)","Error consulta email cliente","498LpGtCq","exists","max","cliente/email","</s></span>","4px solid #e53e3e","display","email","buscar","alignItems","#2b6cb0","inline","RANGO","fontSize","pagination","SPREADSHEET_ID","100vh","toLowerCase","nombre",'<span style="color: #ff9800;">✗ Sin stock</span>',"blur","fas fa-info-circle","color","success","message","35px","Error al buscar el pedido. Por favor, intenta de nuevo","map","borderLeft","lazy","change","pedido-confirmado-modal","span","localeCompare","#e6ffed","type","9999","min","scale(0.8)","pedidos","background","auto","button","Ingres\xe1 tu nombre."," - Cantidad: ","No se encontr\xf3 el email ingresado. Por favor, registrate antes de poder ingresar el pedido.","web","cantidad","lightbox-img","match","marginBottom",".carousel-slide","pointer","error","marginTop",'input[type="number"]',"Error al acceder a la API: ","then","replace","justifyContent","gap","locked","createElement","timestamp","#fff","target","closeUltimoPedidoModal","localidadInput","1px solid #ddd","codigo","zIndex","direccion","div","16px","undefined","Error enviando email:","body","provincia","scrollTo","ceil","Stock insuficiente. Solo hay ",".fas","padding","findIndex","categorias","floor","pedido","No se encontraron pedidos registrados con este email","continuarBtn","next-btn","initializeApp","dni","verPedidoBtnConfirmado","opacity","100px",".card","buscarUltimoPedidoBtn","val","block","documentElement","modal","resize","backgroundColor","borderColor","no-disponible.png","getBoundingClientRect","textAlign","from","provinciaInput"," unidades disponibles.","no disponible","filter","log","pagination-button","focus","test","https://sheets.googleapis.com/v4/spreadsheets/","441276PdoIUQ","vcbQsbE2bgLwFAnDr","not-allowed","categoria","pedido-abierto-overlay","2975rvATwc","Este pedido no existe o est\xe1 cerrado.","pedidos.html?id=","keydown","top",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"active","innerHTML","borderRadius","4px solid #48bb78","Por favor, ingres\xe1 un email v\xe1lido","addEventListener","click","add","Ingres\xe1 un email v\xe1lido.","780772JujrMu","pedidos/","img","style","ref","1261980EzOZzV","base","bold","center","todos","direccionInput","toString","ABIERTO","0.7","50px",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"values","clienteModal","width"];return(_0x35a9=function(){return $})()}function refreshStockInfo(){let $=_0x25b592,x=document[$(532)]($(470));x[$(553)](x=>{let e=$,t=x[e(563)](".stock-info");if(t){let a=x[e(563)](e(618));if(a){let i=a[e(566)],o=productos[e(554)]($=>$[2]===i),n=0;o&&void 0!==o[10]&&null!==o[10]&&""!==o[10]&&(n=parseInt(o[10])),isNaN(n)?t[e(504)]=e(394):n<=0?t[e(504)]=e(394):n<=10?t[e(504)]=e(502):t[e(504)]='<span style="color: #4CAF50;">✓ Disponible</span>';let d=x[e(563)](e(430)),r=x[e(563)](".btn-agregar-carrito");d&&(!isNaN(n)&&n>0?(d[e(377)]=n,d[e(356)]=!1,d[e(552)]=e(580)+n+e(562),r&&r[e(356)]&&(r.disabled=!1,r.style[e(477)]=e(603),r[e(515)][e(478)]=e(603),r[e(515)][e(606)]=e(427),r[e(552)]="")):(d[e(356)]=!0,d.title=e(634),r&&(r.disabled=!0,r[e(515)][e(477)]=e(565),r[e(515)].borderColor=e(565),r.style[e(606)]=e(494),r[e(552)]=e(634))))}}})}function agregarAlCarrito($,x,e,t,a){let i=_0x25b592,o=carrito[i(554)](x=>x[i(393)]===$);o?o[i(422)]+=e:carrito[i(362)]({nombre:$,precio:x,cantidad:e,codigo:t,categoria:a}),actualizarCarrito()}function getMaxVisiblePaginationButtons(){let $=_0x25b592,x=document.getElementById($(389)),e=window[$(558)];x&&(e=x[$(571)]||e);let t=Math[$(377)](3,Math.floor((e-220)/48));return Math[$(412)](t,15)}function actualizarPaginacion($,x){let e=_0x25b592,t=document[e(593)](e(389));t.innerHTML="";let a=Math[e(454)](x[e(613)]/30);if($>1){let i=document[e(437)](e(417));i[e(567)]=e(620),i[e(515)][e(530)]=e(469),i[e(508)](e(509),()=>mostrarPagina($-1,x)),t[e(624)](i)}let o=getMaxVisiblePaginationButtons(),n=Math[e(377)](1,$-Math[e(460)](o/2)),d=Math[e(412)](a,n+o-1);d-n<o-1&&(n=Math[e(377)](1,d-o+1));for(let r=n;r<=d;r++){let l=document[e(437)](e(417));l.textContent=r,l[e(573)][e(510)](e(488)),r===$&&l[e(573)][e(510)](e(503)),l.addEventListener(e(509),()=>mostrarPagina(r,x)),t[e(624)](l)}if($<a){let _=document[e(437)]("button");_[e(567)]="Siguiente",_[e(515)].width=e(469),_[e(508)](e(509),()=>mostrarPagina($+1,x)),t[e(624)](_)}}function isValidImageUrl($){return $&&$[_0x25b592(424)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x25b592;currentLightboxImages=$,currentImageIndex=0,document[x(593)]("lightbox-img")[x(371)]=currentLightboxImages[currentImageIndex],document.getElementById(x(359))[x(515)][x(381)]=x(361),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x25b592,x=document.getElementById($(599)),e=document[$(593)]($(464));currentLightboxImages[$(613)]>1?(x[$(515)][$(381)]=$(473),e.style[$(381)]=$(473)):(x.style[$(381)]=$(557),e[$(515)][$(381)]=$(557))}function closeLightbox($){let x=_0x25b592;($[x(440)]===$.currentTarget||$[x(440)].classList[x(612)](x(546)))&&(document[x(593)](x(359))[x(515)][x(381)]=x(557))}function actualizarCarrito(){let $=_0x25b592,x=document[$(593)]($(360)),e=document[$(563)]($(598));x.innerHTML="",0===carrito.length?e[$(515)].display=$(557):e[$(515)][$(381)]=$(473),carrito[$(553)](e=>{let t=$,a=document[t(437)]("li");a[t(567)]=e[t(393)]+t(419)+e[t(422)],x[t(624)](a)})}window[_0x25b592(508)](_0x25b592(476),()=>{let $=_0x25b592;if(typeof currentPage!==$(449)){let x=datosFiltrados[$(613)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document.getElementById(_0x25b592(464))[_0x25b592(508)](_0x25b592(509),$=>{let x=_0x25b592;$[x(602)](),currentLightboxImages[x(613)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages.length,document.getElementById(x(423))[x(371)]=currentLightboxImages[currentImageIndex])}),document[_0x25b592(593)](_0x25b592(599)).addEventListener(_0x25b592(509),$=>{let x=_0x25b592;$[x(602)](),currentLightboxImages.length>0&&(currentImageIndex=(currentLightboxImages[x(613)]+currentImageIndex-1)%currentLightboxImages[x(613)],document[x(593)]("lightbox-img")[x(371)]=currentLightboxImages[currentImageIndex])}),document[_0x25b592(593)](_0x25b592(423))[_0x25b592(508)](_0x25b592(428),function(){let $=_0x25b592;currentLightboxImages[$(613)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this[$(371)]=currentLightboxImages[0])});let datosExtraCliente={},pedidoEnviado=!1,autofillDisparado=!1;const modal=document.getElementById(_0x25b592(529)),continuarBtn=document[_0x25b592(593)](_0x25b592(463)),emailInput=document[_0x25b592(593)](_0x25b592(536)),nombreInput=document.getElementById("nombreInput"),localidadInput=document[_0x25b592(593)](_0x25b592(442)),direccionInput=document[_0x25b592(593)](_0x25b592(522)),dniNuevoInput=document[_0x25b592(593)](_0x25b592(574)),emailClienteInput=document[_0x25b592(593)](_0x25b592(587)),telefonoInput=document.getElementById("telefonoInput"),provinciaInput=document[_0x25b592(593)](_0x25b592(483));function enviarPedido(){let $=_0x25b592;if(modoEdicion){if(0===carrito[$(613)]){alert($(619));return}enviarPedidoFinal();return}autofillDisparado=!1,modal[$(515)].display="flex"}function validarPedidoAbierto($,x){let e=_0x25b592;db.ref(e(414))[e(555)](e(378))[e(575)]($)[e(578)]("value")[e(432)]($=>{let t=e,a=null,i=null;$[t(553)]($=>{let x=t,e=$[x(472)]();e[x(535)]!==x(524)||a||(a=e,i=e.id||$.key)}),x(a,i)})[e(541)]($=>{console[e(428)]("Error validando pedido abierto",$),x(null,null)})}function mostrarMensajePedidoAbierto($){let x=_0x25b592;modal[x(515)][x(381)]=x(557);let e=document[x(593)](x(496));e||((e=document[x(437)](x(447))).id="pedido-abierto-overlay",e[x(515)].position=x(640),e.style[x(501)]="0",e.style.left="0",e[x(515)][x(530)]="100vw",e[x(515)][x(584)]=x(391),e[x(515)][x(415)]="rgba(0,0,0,0.6)",e[x(515)][x(381)]="flex",e.style[x(540)]="column",e[x(515)].justifyContent=x(520),e.style[x(384)]=x(520),e[x(515)][x(445)]=x(411),document[x(451)][x(624)](e)),e[x(504)]=x(369),document.getElementById(x(533))[x(570)]=function(){let e=x;window[e(590)][e(539)]="pedidos.html?id="+$}}function continuarPedido(){let $=_0x25b592,x=emailInput[$(566)][$(594)]().toLowerCase(),e=(nombreInput[$(566)][$(594)](),telefonoInput.value[$(594)](),localidadInput[$(566)][$(594)](),direccionInput[$(566)][$(594)](),provinciaInput.value,dniNuevoInput[$(566)][$(594)](),emailClienteInput[$(566)][$(594)]()[$(392)]()),t=x||e;if(!t||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[$(490)](t)){alert("Ingres\xe1 un email v\xe1lido.");return}db[$(516)]($(357))[$(555)]($(382))[$(575)](t)[$(608)](1).once($(566))[$(432)]($=>{$.exists()&&validarPedidoAbierto(t,(x,e)=>{let a=_0x3e44;if(x){mostrarMensajePedidoAbierto(e);return}let i=Object[a(528)]($[a(472)]())[0];nombreInput[a(566)]=i[a(393)]||"",telefonoInput.value=i.telefono||"",localidadInput[a(566)]=i[a(628)]||"",direccionInput[a(566)]=i.direccion||"",provinciaInput.value=i[a(452)]||"",dniNuevoInput[a(566)]=i.dni||"",emailInput.value=i[a(382)]||"",datosExtraCliente={email:t,nombre:i[a(393)],telefono:i.telefono,localidad:i[a(628)],direccion:i[a(446)],provincia:i[a(452)],dni:i[a(466)],tipoCliente:i[a(617)]||"mayorista"},mostrarModalConfirmacion()})})}function enviarPedidoFinal(){let $=_0x25b592;if(pedidoEnviado)return;if(pedidoEnviado=!0,0===carrito[$(613)]){alert($(619));return}if(!modoEdicion){let x=db.ref($(414))[$(362)](),e=x[$(601)],t={id:e,timestamp:Date[$(556)](),locked:!1,adminViewed:!1,createdby:$(421),status:$(524),cliente:{nombre:datosExtraCliente[$(393)]||"",telefono:datosExtraCliente[$(544)]||"",localidad:datosExtraCliente[$(628)]||"",direccion:datosExtraCliente.direccion||"",provincia:datosExtraCliente[$(452)]||"",dni:String(datosExtraCliente[$(466)]||""),email:datosExtraCliente[$(382)]||"",tipoCliente:datosExtraCliente[$(617)]||$(547)},items:carrito[$(402)](x=>({nombre:x[$(393)],cantidad:x.cantidad,valorUSD:x.precio,codigo:x[$(444)]||"",categoria:x[$(495)]||""}))};x.set(t).then(()=>{let x=$;datosExtraCliente[x(382)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[x(490)](datosExtraCliente[x(382)])?emailjs[x(370)]("service_lu9cpxk",x(592),{email:datosExtraCliente[x(382)],name:datosExtraCliente[x(393)],linkPedido:x(591)+e})[x(432)](function($){let e=x;console[e(487)]("Email enviado!",$[e(535)],$.text)},function($){console.error(x(450),$)}):(alert("El email del cliente est\xe1 vac\xedo o no es v\xe1lido. No se env\xeda el pedido por email."),console[x(428)](x(561))),mostrarModalPedidoConfirmado(e,datosExtraCliente[x(382)]),limpiarCarrito()});return}let a=db[$(516)]($(513)+pedidoEditId);a[$(578)]("value")[$(432)](x=>{let e=$,t=x[e(472)]();if(!t||t[e(436)]){alert(e(498));return}return carrito[e(553)]($=>{let x=e,a=t[x(579)][x(458)](e=>e[x(393)]===$[x(393)]);a>-1?t.items[a][x(422)]+=$[x(422)]:t[x(579)][x(362)]({nombre:$.nombre,cantidad:$.cantidad,valorUSD:$[x(596)],codigo:$[x(444)]||"",categoria:$[x(495)]||""})}),t.cliente={nombre:datosExtraCliente[e(393)]||t[e(638)]?.[e(393)]||"",telefono:datosExtraCliente[e(544)]||t[e(638)]?.[e(544)]||"",localidad:datosExtraCliente[e(628)]||t.cliente?.[e(628)]||"",direccion:datosExtraCliente[e(446)]||t[e(638)]?.direccion||"",provincia:datosExtraCliente.provincia||t.cliente?.[e(452)]||"",dni:String(datosExtraCliente[e(466)]||t[e(638)]?.[e(466)]||""),email:datosExtraCliente[e(382)]||t[e(638)]?.[e(382)]||"",tipoCliente:datosExtraCliente[e(617)]||t[e(638)]?.tipoCliente||e(547)},a.update({items:t[e(579)],cliente:t.cliente,adminViewed:!1,lastUpdated:Date[e(556)]()})}).then(()=>{let x=$;alert("Art\xedculos agregados al pedido \uD83D\uDC4C"),window[x(590)].href=x(499)+pedidoEditId})[$(541)]($=>{console.error($),alert("Error actualizando el pedido")})}function mostrarModalPedidoConfirmado($,x){let e=_0x25b592,t=document[e(593)](e(406));t&&t[e(551)]();let a=document[e(437)]("div");a.id="pedido-confirmado-modal",a[e(543)]=e(475),a[e(515)][e(381)]=e(361),a.innerHTML=e(372),document[e(451)].appendChild(a),document[e(593)](e(467)).onclick=function(){let x=e;window[x(590)].href="pedidos.html?id="+$}}function limpiarCarrito(){let $=_0x25b592;carrito=[],actualizarCarrito(),document[$(532)]($(470))[$(553)](x=>{let e=$,t=x[e(563)](e(633)),a=x[e(563)](e(430)).parentElement,i=x[e(563)]('input[type="number"]');t&&a&&i&&(i[e(566)]="1",a[e(515)].display=e(557),a.style[e(468)]="0",a[e(515)][e(630)]="scale(0.8)",t[e(515)][e(381)]=e(473),t[e(515)][e(468)]="1",t[e(515)][e(630)]=e(373),t[e(515)][e(415)]="",t.style.color="",t[e(515)][e(581)]="")})}[_0x25b592(587)][_0x25b592(553)]($=>{let x=_0x25b592,e=document[x(593)]($);e&&e.addEventListener(x(395),$=>{let e=x,t=$[e(440)][e(566)][e(594)]()[e(392)]();t&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(490)](t)&&db[e(516)](e(357)).orderByChild(e(382)).equalTo(t)[e(608)](1)[e(578)](e(566))[e(432)]($=>{let x=e,t=$[x(376)]()?Object[x(528)]($[x(472)]())[0]:null;if(!t){alert(x(420)),nombreInput.value="",localidadInput[x(566)]="",direccionInput[x(566)]="",dniNuevoInput.value="",emailInput[x(566)]="",emailClienteInput[x(566)]="";return}nombreInput.value=t.nombre||"",localidadInput.value=t[x(628)]||"",direccionInput[x(566)]=t.direccion||"",dniNuevoInput[x(566)]=t[x(466)]||"",emailInput[x(566)]=t[x(382)]||"",carrito[x(613)]&&!autofillDisparado&&(autofillDisparado=!0,continuarBtn.click())})[e(541)]($=>console.error(e(374),$))})}),continuarBtn[_0x25b592(508)](_0x25b592(509),()=>{let $=_0x25b592,x=emailInput[$(566)][$(594)]()[$(392)](),e=nombreInput.value[$(594)](),t=telefonoInput[$(566)].trim(),a=localidadInput[$(566)][$(594)](),i=direccionInput[$(566)][$(594)](),o=provinciaInput.value,n=dniNuevoInput[$(566)][$(594)](),d=emailClienteInput[$(566)][$(594)]().toLowerCase(),r=n,l=x||d;if(!l||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[$(490)](l)){alert($(511));return}db[$(516)]($(357))[$(555)]($(382)).equalTo(l)[$(608)](1)[$(578)]("value")[$(432)](x=>{let n=$;if(x[n(376)]()){if(pedidoEnviado){let d=Object.values(x[n(472)]())[0];nombreInput[n(566)]=d.nombre||"",telefonoInput[n(566)]=d.telefono||"",localidadInput[n(566)]=d[n(628)]||"",direccionInput[n(566)]=d.direccion||"",provinciaInput[n(566)]=d[n(452)]||"",dniNuevoInput[n(566)]=d[n(466)]||"",emailInput[n(566)]=d[n(382)]||"",datosExtraCliente={email:l,nombre:d.nombre,telefono:d[n(544)],localidad:d[n(628)],direccion:d.direccion,provincia:d[n(452)],dni:d[n(466)],tipoCliente:d[n(617)]||"mayorista"},mostrarModalConfirmacion()}else validarPedidoAbierto(l,($,e)=>{let t=n;if($){mostrarMensajePedidoAbierto(e);return}let a=Object[t(528)](x[t(472)]())[0];nombreInput[t(566)]=a[t(393)]||"",telefonoInput[t(566)]=a.telefono||"",localidadInput[t(566)]=a[t(628)]||"",direccionInput.value=a[t(446)]||"",provinciaInput[t(566)]=a[t(452)]||"",dniNuevoInput[t(566)]=a.dni||"",emailInput.value=a[t(382)]||"",datosExtraCliente={email:l,nombre:a[t(393)],telefono:a.telefono,localidad:a.localidad,direccion:a[t(446)],provincia:a[t(452)],dni:a[t(466)],tipoCliente:a[t(617)]||t(547)},mostrarModalConfirmacion()})}else{if(!e){alert(n(418));return}datosExtraCliente={email:l,nombre:e,telefono:t,localidad:a,direccion:i,provincia:o,dni:r,tipoCliente:n(547)},db[n(516)]("clientes").push({email:l,nombre:e,telefono:t,localidad:a,direccion:i,provincia:o,dni:r,tipoCliente:"mayorista",registro:n(421)})[n(432)](()=>{mostrarModalConfirmacion()})}})}),document[_0x25b592(508)](_0x25b592(358),function(){let $=_0x25b592;document[$(593)]("marquee-text-1")[$(504)]=MARQUEE_TEXT,document[$(593)]("marquee-text-2").innerHTML=MARQUEE_TEXT}),modal[_0x25b592(508)]("mousedown",function($){let x=_0x25b592;$[x(440)]===modal&&(modal.style[x(381)]="none")});const ultimoPedidoBtn=document[_0x25b592(593)]("ultimoPedidoBtn"),ultimoPedidoModal=document[_0x25b592(593)](_0x25b592(639)),closeUltimoPedidoModal=document.getElementById(_0x25b592(441)),buscarUltimoPedidoBtn=document[_0x25b592(593)](_0x25b592(471)),ultimoPedidoEmailInput=document[_0x25b592(593)](_0x25b592(538)),buscarBtnText=document[_0x25b592(593)](_0x25b592(542)),buscarSpinner=document[_0x25b592(593)](_0x25b592(368)),ultimoPedidoMensaje=document[_0x25b592(593)](_0x25b592(367));function mostrarMensajeBusqueda($,x){let e=_0x25b592,t=ultimoPedidoMensaje,a=t[e(563)](e(456)),i=t[e(563)](e(407));$===e(428)?(t.style[e(477)]="#fee",t[e(515)][e(403)]=e(380),t[e(515)][e(397)]="#c53030",a[e(543)]=e(600)):$===e(398)?(t[e(515)][e(477)]=e(409),t[e(515)][e(403)]=e(506),t[e(515)][e(397)]=e(589),a.className="fas fa-check-circle"):$===e(636)&&(t.style.backgroundColor=e(548),t.style[e(403)]="4px solid #4299e1",t[e(515)][e(397)]=e(385),a[e(543)]=e(396)),i[e(567)]=x,t.style[e(381)]="flex",t[e(515)].alignItems=e(520)}function ocultarMensajeBusqueda(){let $=_0x25b592;ultimoPedidoMensaje.style[$(381)]=$(557)}function setEstadoCargaBusqueda($){let x=_0x25b592;buscarUltimoPedidoBtn[x(356)]=$,buscarUltimoPedidoBtn[x(515)].opacity=$?x(525):"1",buscarUltimoPedidoBtn[x(515)].cursor=x($?494:427),buscarBtnText[x(515)][x(381)]=$?"none":x(386),buscarSpinner[x(515)][x(381)]=$?"block":"none",ultimoPedidoEmailInput.disabled=$}ultimoPedidoBtn.addEventListener("click",function(){let $=_0x25b592;ultimoPedidoModal.style[$(381)]=$(361),ultimoPedidoEmailInput[$(566)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[$(489)](),100)}),closeUltimoPedidoModal[_0x25b592(508)](_0x25b592(509),function(){let $=_0x25b592;ultimoPedidoModal[$(515)][$(381)]=$(557),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x25b592(508)]("mousedown",function($){let x=_0x25b592;$[x(440)]===ultimoPedidoModal&&(ultimoPedidoModal[x(515)][x(381)]=x(557),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x25b592(508)](_0x25b592(509),function(){let $=_0x25b592,x=ultimoPedidoEmailInput[$(566)].trim().toLowerCase();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(x)){mostrarMensajeBusqueda($(428),$(507)),ultimoPedidoEmailInput.focus();return}setEstadoCargaBusqueda(!0),db[$(516)]($(414))[$(555)]($(378))[$(575)](x)[$(578)]($(566))[$(432)](x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x[e(376)]()){mostrarMensajeBusqueda(e(428),"No se encontraron pedidos registrados con este email");return}let t=null;x[e(553)]($=>{let x=e,a=$[x(472)]();(!t||a[x(438)]>t[x(438)])&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda(e(398),e(531)),setTimeout(()=>{let $=e;window[$(614)]($(499)+t.id,$(366)),ultimoPedidoModal[$(515)].display="none",ocultarMensajeBusqueda(),ultimoPedidoEmailInput[$(566)]=""},800)):mostrarMensajeBusqueda("error",e(462))}).catch(()=>{let x=$;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda(x(428),x(401))})}),ultimoPedidoEmailInput.addEventListener(_0x25b592(500),function($){let x=_0x25b592;"Enter"===$[x(601)]&&buscarUltimoPedidoBtn[x(509)]()});const carouselPieImages=document.getElementById("carousel-pie-images"),slidesPie=carouselPieImages.querySelectorAll(_0x25b592(426));let currentPieIndex=0;function updateCarouselPie(){let $=_0x25b592,x=-(100*currentPieIndex);carouselPieImages[$(515)][$(630)]="translateX("+x+"%)"}setInterval(()=>{let $=_0x25b592;currentPieIndex=(currentPieIndex+1)%slidesPie[$(613)],updateCarouselPie()},5e3);
